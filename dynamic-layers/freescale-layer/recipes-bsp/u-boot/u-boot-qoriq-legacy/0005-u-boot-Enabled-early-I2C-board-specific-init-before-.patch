From c52d9cce6950d65bc71f7dfb1cc362628d9867b8 Mon Sep 17 00:00:00 2001
From: r39252 <Heinz.Wrobel@freescale.com>
Date: Sun, 23 Apr 2017 21:25:43 +0200
Subject: [PATCH 05/17] u-boot: Enabled early I2C board specific init before
 memory is available

---
 common/board_f.c | 3 +++
 include/common.h | 1 +
 2 files changed, 4 insertions(+)

diff --git a/common/board_f.c b/common/board_f.c
index 2cdd12a..c752161 100644
--- a/common/board_f.c
+++ b/common/board_f.c
@@ -819,6 +819,9 @@ static const init_fnc_t init_sequence_f[] = {
 	INIT_FUNC_WATCHDOG_RESET
 #if defined(CONFIG_SYS_I2C)
 	init_func_i2c,
+#if defined(CONFIG_INIT_I2C_DEVICES_F)
+	board_init_i2c_devices_f,
+#endif
 #endif
 #if defined(CONFIG_HARD_SPI)
 	init_func_spi,
diff --git a/include/common.h b/include/common.h
index 1a98512..cd53ffe 100644
--- a/include/common.h
+++ b/include/common.h
@@ -417,6 +417,7 @@ int board_late_init (void);
 int board_postclk_init (void); /* after clocks/timebase, before env/serial */
 int board_early_init_r (void);
 void board_poweroff (void);
+int board_init_i2c_devices_f (void); /* After I2C init but before RAM */
 
 #if defined(CONFIG_SYS_DRAM_TEST)
 int testdram(void);
-- 
2.12.2

